{"title":{"en":"C. Jury Meeting","ru":"C. Заседание жюри"},"contestId":"1569","problemIndex":"C","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>$$$n$$$ people gathered to hold a jury meeting of the upcoming competition, the $$$i$$$-th member of the jury came up with $$$a_i$$$ tasks, which they want to share with each other.</p><p>First, the jury decides on the order which they will follow while describing the tasks. Let that be a permutation $$$p$$$ of numbers from $$$1$$$ to $$$n$$$ (an array of size $$$n$$$ where each integer from $$$1$$$ to $$$n$$$ occurs exactly once).</p><p>Then the discussion goes as follows:</p><ul> <li> If a jury member $$$p_1$$$ has some tasks left to tell, then they tell one task to others. Otherwise, they are skipped. </li><li> If a jury member $$$p_2$$$ has some tasks left to tell, then they tell one task to others. Otherwise, they are skipped. </li><li> ... </li><li> If a jury member $$$p_n$$$ has some tasks left to tell, then they tell one task to others. Otherwise, they are skipped. </li><li> If there are still members with tasks left, then the process repeats from the start. Otherwise, the discussion ends. </li></ul><p>A permutation $$$p$$$ is nice if none of the jury members tell two or more of their own tasks in a row. </p><p>Count the number of nice permutations. The answer may be really large, so print it modulo $$$998\\,244\\,353$$$.</p>","ru":"<p>$$$n$$$ человек собрались, чтобы провести заседание жюри предстоящего соревнования, $$$i$$$-й член жюри придумал $$$a_i$$$ задач, которыми он хочет поделиться с другими.</p><p>Сначала жюри выбирает порядок, которому они будут следовать при обсуждении задач. Пусть это будет перестановка $$$p$$$ чисел от $$$1$$$ до $$$n$$$ (массив размера $$$n$$$, в котором каждое число от $$$1$$$ до $$$n$$$ встречается ровно один раз).</p><p>Затем обсуждение происходит следующим образом:</p><ul> <li> если у члена жюри $$$p_1$$$ остались задачи, которые нужно рассказать, то он рассказывает одну задачу. В противном случае он будет пропущен. </li><li> если у члена жюри $$$p_2$$$ остались задачи, которые нужно рассказать, то он рассказывает одну задачу. В противном случае он будет пропущен. </li><li> ... </li><li> если у члена жюри $$$p_n$$$ остались задачи, которые нужно рассказать, то он рассказывает одну задачу. В противном случае он будет пропущен. </li><li> если остались члены жюри, которые еще не рассказали все свои задачи, то процесс повторяется с самого начала. В противном случае обсуждение заканчивается. </li></ul><p>Перестановка $$$p$$$ хорошая, если никто из членов жюри не будет рассказывать две или более задач подряд.</p><p>Подсчитайте количество хороших перестановок. Ответ может быть очень большим, поэтому выведите его по модулю $$$998\\,244\\,353$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$)&nbsp;— the number of test cases.</p><p>The first line of the test case contains a single integer $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— number of jury members.</p><p>The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le 10^9$$$)&nbsp;— the number of problems that the $$$i$$$-th member of the jury came up with.</p><p>The sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Первая строка содержит одно целое число $$$t$$$ ($$$1 \\le t \\le 10^4$$$)&nbsp;— количество наборов входных данных.</p><p>Первая строка набора входных данных содержит одно целое число $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— количество членов жюри.</p><p>Вторая строка содержит $$$n$$$ целых чисел $$$a_1, a_2, \\dots, a_n$$$ ($$$1 \\le a_i \\le 10^9$$$)&nbsp;— количество задач, которые придумал $$$i$$$-й член жюри.</p><p>Сумма $$$n$$$ по всем наборам входных данных не превосходит $$$2 \\cdot 10^5$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each test case, print one integer&nbsp;— the number of nice permutations, taken modulo $$$998\\,244\\,353$$$.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого набора входных данных выведите одно целое число&nbsp;— количество хороших перестановок, взятое по модулю $$$998\\,244\\,353$$$.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>Explanation of the first test case from the example:</p><p>There are two possible permutations, $$$p = [1, 2]$$$ and $$$p = [2, 1]$$$. For $$$p = [1, 2]$$$, the process is the following:</p><ol> <li> the first jury member tells a task; </li><li> the second jury member tells a task; </li><li> the first jury member doesn't have any tasks left to tell, so they are skipped; </li><li> the second jury member tells a task. </li></ol><p>So, the second jury member has told two tasks in a row (in succession), so the permutation is not nice.</p><p>For $$$p = [2, 1]$$$, the process is the following:</p><ol> <li> the second jury member tells a task; </li><li> the first jury member tells a task; </li><li> the second jury member tells a task. </li></ol><p>So, this permutation is nice.</p>","ru":"<div class=\"section-title\">Примечание</div><p>Объяснение первого примера:</p><p>Существуют две возможные перестановки, $$$p = [1, 2]$$$ и $$$p = [2, 1]$$$. Для $$$p = [1, 2]$$$ процесс происходит следующим образом:</p><ol> <li> первый член жюри рассказывает задачу; </li><li> второй член жюри рассказывает задачу; </li><li> у первого члена жюри не осталось задач, которые нужно было бы рассказать, поэтому он будет пропущен; </li><li> второй член жюри рассказывает задачу. </li></ol><p>Второй член жюри рассказал две задачи подряд, поэтому перестановка не является хорошей.</p><p>Для $$$p = [2, 1]$$$ процесс происходит следующим образом:</p><ol> <li> второй член жюри рассказывает задачу; </li><li> первый член жюри рассказывает задачу; </li><li> второй член жюри рассказывает задачу. </li></ol><p>Эта перестановка является хорошей.</p>"},"sampleTestcases":[{"id":1639590298416,"input":"4\n2\n1 2\n3\n5 5 5\n4\n1 3 3 7\n6\n3 4 2 1 3 3\n","output":"1\n6\n0\n540\n"}],"submitUrl":"https://codeforces.com/contest/1569/submit","language":"python"}